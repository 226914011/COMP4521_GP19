"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Meld_1 = require("./Meld");
const Tile_1 = require("../tile/Tile");
const getTilesOccurrencesMap_1 = require("../tile/getTilesOccurrencesMap");
/**
 * (Chinese: ä¸Š) Form the Meld consisting of three Tiles all of the same suit (except honor suit), in numerical sequence.
 * @param inputTiles array of Tiles.
 * @returns an array containing all possible Chows that could be formed.
 */
function chows(inputTiles) {
    const copyOfInputTiles = inputTiles.slice();
    const map = (0, getTilesOccurrencesMap_1.default)(copyOfInputTiles);
    const melds = [];
    for (const suit in map) {
        if (suit === 'honor') {
            continue;
        }
        for (const value in map[suit]) {
            if (parseInt(value, 10) > Tile_1.default.ALL_SUIT_TYPES[suit]['maxValue'] - 2) {
                continue;
            }
            if (map[suit][value] !== undefined &&
                map[suit][parseInt(value, 10) + 1] !== undefined &&
                map[suit][parseInt(value, 10) + 2] !== undefined) {
                const tile1 = new Tile_1.default({ suit, value: parseInt(value, 10) });
                const tile2 = new Tile_1.default({ suit, value: parseInt(value, 10) + 1 });
                const tile3 = new Tile_1.default({ suit, value: parseInt(value, 10) + 2 });
                const meldFormed = new Meld_1.default([tile1, tile2, tile3]);
                melds.push(meldFormed);
            }
        }
    }
    return melds;
}
exports.default = chows;

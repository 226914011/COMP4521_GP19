"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Meld_1 = require("./Meld");
const Tile_1 = require("../tile/Tile");
const getTilesOccurrencesMap_1 = require("../tile/getTilesOccurrencesMap");
/**
 * (Chinese: æ§“) Form the Meld consisting of four identical Tiles.
 * @param inputTiles array of Tiles.
 * @returns an array containing all possible Kongs that could be formed.
 */
function kongs(inputTiles) {
    const copyOfInputTiles = inputTiles.slice();
    const map = (0, getTilesOccurrencesMap_1.default)(copyOfInputTiles);
    const melds = [];
    for (const suit in map) {
        // Requirement of TSLint: for (... in ...) statements must be filtered with an if statement.
        if (map.hasOwnProperty(suit)) {
            for (const value in map[suit]) {
                // Requirement of TSLint: for (... in ...) statements must be filtered with an if statement.
                if (map[suit].hasOwnProperty(value)) {
                    if (map[suit][value] === Meld_1.default.NUMBER_OF_TILES_FOR_KONG) {
                        const tiles = [];
                        for (let i = 0; i < Meld_1.default.NUMBER_OF_TILES_FOR_KONG; i++) {
                            tiles.push(new Tile_1.default({ suit, value: parseInt(value, 10) }));
                        }
                        const meldFormed = new Meld_1.default(tiles);
                        melds.push(meldFormed);
                    }
                }
            }
        }
    }
    return melds;
}
exports.default = kongs;
